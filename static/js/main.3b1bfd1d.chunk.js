(this.webpackJsonpcuberto=this.webpackJsonpcuberto||[]).push([[0],{101:function(e,t,a){},121:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(27),o=a.n(i),c=(a(101),a(11)),r=a(173),s=a(168),u=a(176),l=a(177),m=a(174),b=a(178),d=a(170),j=a(171),f=a(82),h=a.n(f),p=a(83),O=a(175),x=a(24),v=a(60),g=a.n(v),y=a(78),E=a(79),k={isEmpty:!0,isEmail:!0},S="The email failed verification check",w=["gmail.com","yahoo.com","yandex.ru","mail.ru","hotmail.com"],B=["gmail.com","gmail.ua.com","yahoo.com","yahoo.ca","yandex.ru","mail.ru","hotmail.com","gmail.uk.com","yahoo.com.au","yandex.uk.ru","yahoo.in","hotmail.de"],C=a.n(E).a.create({withCredentials:!1,baseURL:"https://lit-dusk-57360.herokuapp.com/"}),V=function(e,t){var a=Object(n.useState)(e),i=Object(c.a)(a,2),o=i[0],r=i[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],m=u[1],b=function(e,t){var a=Object(n.useState)(!0),i=Object(c.a)(a,2),o=i[0],r=i[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],m=u[1];return Object(n.useEffect)((function(){for(var a in t)switch(a){case"isEmpty":r(!e);break;case"isEmail":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?m(!1):m(!0)}}),[e]),{isEmpty:o,emailError:l,setEmailError:m}}(o,t),d=function(e){var t=Object(n.useState)({textVerification:" ",disabledButton:!1}),a=Object(c.a)(t,2),i=a[0],o=a[1],r=i.textVerification,s=i.disabledButton;Object(n.useEffect)((function(){o(Object(x.a)(Object(x.a)({},i),{},{textVerification:""}))}),[e]);var u=function(){var t=Object(y.a)(g.a.mark((function t(a){var n,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o({textVerification:"Wait. The email is being verified...",disabledButton:!0}),t.next=4,C.post("/",{email:e});case 4:n=t.sent,i="accepted_email"===n.data.reason?"\u2714 The email is acceptable":S,o({textVerification:i,disabledButton:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{textVerification:r,disabledButton:s,handleClick:u}}(o),j=function(e){var t=Object(n.useState)({showAutocomplete:!1,options:w}),a=Object(c.a)(t,2),i=a[0],o=a[1],r=e.indexOf("@"),s=e[r+1],u=e[r+2],l=e.slice(0,r+1);return Object(n.useEffect)((function(){s&&!u&&o({showAutocomplete:!0,options:B.filter((function(e){return e[0]===s}))}),e.includes("@")&&e===l&&o({showAutocomplete:!0,options:w})}),[e]),Object(x.a)(Object(x.a)({},i),{},{setAutocomplete:o})}(o);return Object(x.a)(Object(x.a)(Object(x.a)({value:o,onChange:function(e){return r(e.target.value)},onBlur:function(e){return m(!0)},setValue:r,isDirty:l},b),d),j)},A=(a(121),a(2)),T=Object(p.a)(),D=function(){var e=V("",k),t=e.isDirty,a=e.isEmpty,i=e.emailError,o=e.onBlur,f=e.onChange,p=e.handleClick,x=e.showAutocomplete,v=e.setAutocomplete,g=e.textVerification,y=e.disabledButton,E=e.setEmailError,w=e.setValue,B=e.options,C=Object(n.useState)(""),D=Object(c.a)(C,2),z=D[0],I=D[1],W=function(e,t,a){var n;return function(i){a(!1),n&&clearTimeout(n),n=setTimeout((function(){return e(i)}),t)}}(f,2e3,E),q=!t||y||t&&a||t&&i&&!a,J=t&&a?"Email cannot be empty":t&&i&&!a?"The email is not valid":g||" ",L=t&&a||t&&i&&!a||g===S;return Object(A.jsx)(O.a,{theme:T,children:Object(A.jsxs)(r.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(A.jsx)(s.a,{}),Object(A.jsx)(r.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(A.jsx)(r.a,{item:!0,xs:12,sm:8,md:5,component:u.a,elevation:6,square:!0,children:Object(A.jsxs)(l.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(m.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(A.jsx)(h.a,{})}),Object(A.jsx)(b.a,{component:"h1",variant:"h5",children:"Send email"}),Object(A.jsxs)(l.a,{component:"form",noValidate:!0,onSubmit:p,sx:{mt:1},children:[Object(A.jsx)(d.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",autoFocus:!0,onChange:function(e){W(e),I(e.target.value)},onBlur:o,helperText:J,error:L,value:z}),x&&Object(A.jsx)("div",{className:"autocomplete",children:B.map((function(e){return Object(A.jsx)("div",{className:"autocomplete_option",onClick:function(){var t=z.slice(0,z.indexOf("@")+1);I(t+e),w(t+e),v(!1)},children:e},e)}))}),Object(A.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:q,children:"Send email"})]})]})})]})})};o.a.render(Object(A.jsx)(D,{}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.3b1bfd1d.chunk.js.map